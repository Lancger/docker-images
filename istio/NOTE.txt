1.istio官方原版
https://istio.io/docs/setup/kubernetes/

2.istio cilium增强版
istio 1.0.3
cilium 1.3.0

https://cilium.readthedocs.io/en/stable/gettingstarted/istio/

helm template istio-cilium-helm --name istio --namespace istio-system \
      --set global.proxy.includeIPRanges="10.233.0.0/16\,10.234.0.0/16" \
      --set pilot.image=docker.io/cilium/istio_pilot:1.0.2 \
      --set sidecarInjectorWebhook.enabled=true \
      --set global.controlPlaneSecurityEnabled=true \
      --set global.mtls.enabled=true \
      --set tracing.enabled=true \
      --set global.proxy.image=proxy_debug \
      --set servicegraph.enabled=true \
      --set grafana.enabled=true \
      --set kiali.enabled=true \
      --set ingress.enabled=false \
      --set egressgateway.enabled=false \
      > istio-cilium-single.yaml

https://raw.githubusercontent.com/cilium/cilium/1.3.0/examples/kubernetes-istio/istio-sidecar-init-policy.yaml

#启用sidecar自动注入
kubectl label namespace default istio-injection=enabled
